# Sidekiq Scheduler Configuration
# Recurring background jobs for the Tutor Quality Scoring System

session_scoring:
  cron: '*/5 * * * *'  # Every 5 minutes
  class: SessionScoringJob
  queue: default
  description: "Computes SQS and FSRS scores for completed sessions"

alert_evaluation:
  cron: '*/10 * * * *'  # Every 10 minutes
  class: AlertJob
  queue: default
  description: "Evaluates tutor scores and creates/resolves alerts based on thresholds"

tutor_daily_aggregation:
  cron: '0 */6 * * *'  # Every 6 hours at the top of the hour
  class: TutorDailyAggregationJob
  queue: default
  description: "Aggregates daily tutor metrics (reschedules, no-shows, lateness) for rolling window calculations"

tutor_health_score:
  cron: '15 */6 * * *'  # Every 6 hours, 15 minutes past the hour (runs after aggregation)
  class: TutorHealthScoreJob
  queue: default
  description: "Computes THS (7-day Tutor Health Score) from reliability metrics"

tutor_churn_risk_score:
  cron: '30 */6 * * *'  # Every 6 hours, 30 minutes past the hour (runs after THS)
  class: TutorChurnRiskScoreJob
  queue: default
  description: "Computes TCRS (14-day Tutor Churn Risk Score) from engagement patterns"

